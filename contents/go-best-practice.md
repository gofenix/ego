---
date: "2018-11-07 17:16:07"
title: go-best-practice
---

- 短变量名称在声明和上次使用之间的距离很短时效果很好。
- 长变量名称需要证明自己的合理性; 名称越长，需要提供的价值越高。冗长的名称与页面上的重量相比，信号量较小。
- 请勿在变量名称中包含类型名称。
- 常量应该描述它们持有的值，而不是该如何使用。
- 对于循环和分支使用单字母变量，参数和返回值使用单个字，函数和包级别声明使用多个单词
- 方法、接口和包使用单个词。
- 请记住，包的名称是调用者用来引用名称的一部分，因此要好好利用这一点。

变量的名称应描述其内容，而不是内容的类型。

典型错误：

```
var usersMap map[string]*User
```

如果`users`的描述性都不够用，那么`usersMap`也不会。



**声明变量但没有初始化时，请使用var。**

**在声明和初始化时，使用:=。** 

#### 关于变量和常量的注释应描述其内容而非其目的



- 任何既不明显也不简短的公共功能必须予以注释。
- 无论长度或复杂程度如何，对库中的任何函数都必须进行注释



在编写函数之前，请编写描述函数的注释。 如果你发现很难写出注释，那么这就表明你将要编写的代码很难理解。



 以包所提供的内容来命名，而不是它包含的内容。



####  避免使用类似`base`，`common`或`util`的包名称



#### 尽早`return`而不是深度嵌套



#### 使用`internal`包来减少公共API



####  不鼓励使用`nil`作为参数



#### 首选可变参数函数而非`[]T`参数



#### 通过消除错误来消除错误处理



#### 使用`github.com/pkg/errors`包装`errors`



#### 永远不要启动一个停止不了的goroutine。