<html>
    <head>
        <title> 
            kotlin快速入门
        </title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/styles/default.min.css"
    />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/highlight.min.js"></script>

    <script>
      hljs.highlightAll();
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    </style>
    </head>

    <body>
        <div>
            <article class="markdown-body"> 
                <hr class="thin" />
<p>
date: “2018-03-24 17:56:45”
title: kotlin快速入门</p>
<hr class="thin" />
<p>
快速浏览一下 Kotlin 的语法。</p>
<h1>
基本语法</h1>
<h3>
包定义和引用</h3>
<p>
在源文件头部：</p>
<pre><code class="Kotlin">package my.demo
import java.util.*
</code></pre>
<h3>
方法定义</h3>
<ul>
  <li>
带有方法体，并且返回确定类型数据的定义方式，例如接受 <code class="inline">Int</code> 类型的参数并返回 <code class="inline">Int</code> 类型的值：  </li>
</ul>
<pre><code class="Kotlin">fun sum(a: Int, b: Int): Int {
    return a + b
}
</code></pre>
<ul>
  <li>
带有方法体，返回推断类型数据的定义方式，例如：  </li>
</ul>
<pre><code class="Kotlin">fun sum(a: Int, b: Int) = a + b
</code></pre>
<ul>
  <li>
返回无意义类型的定义方式：  </li>
</ul>
<pre><code class="Kotlin">fun printSum(a: Int, b: Int): Unit {
    println(&quot;sum of $a and $b is ${a + b}&quot;)
}
</code></pre>
<p>
或者省略 <code class="inline">Unit</code>：</p>
<pre><code class="kotlin">fun printSum(a: Int, b: Int) {
    println(&quot;sum of $a and $b is ${a + b}&quot;)
}
</code></pre>
<h3>
变量定义</h3>
<ul>
  <li>
只赋值一次（只读）本地变量，<strong>val</strong>：  </li>
</ul>
<pre><code class="kotlin">val a:Int = 1    // 指定初始值
val b = 2        // 类型自推断为 `Int`
val c:Int        // 当不指定初始值时需要指定类型
c = 3            // 延迟赋值
</code></pre>
<ul>
  <li>
可变变量， <strong>var</strong>：  </li>
</ul>
<pre><code class="Kotlin">var x = 5    // 类型自推断为 `Int`
x += 1
</code></pre>
<ul>
  <li>
顶层变量  </li>
</ul>
<pre><code class="kotlin">val PI = 3.14
var x = 0

fun incrementX() {
    x += 1
}
</code></pre>
<h3>
注释</h3>
<p>
与 Java 和 JavaScript 一样，Kotlin 支持行尾注释和块注释：</p>
<pre><code class="kotlin">// 行尾注释
/* 多行
   块注释 */
</code></pre>
<p>
与 Java 不同，Kotlin 中的块注释可以嵌套。</p>
<h3>
string 模板</h3>
<pre><code class="kotlin">var a = 1
val s1 = &quot;a is $a&quot;

a = 2
val s2 = &quot;${s1.replace(&quot;is&quot;, &quot;was&quot;)}, but now is $a}&quot; 
</code></pre>
<h3>
条件表达式</h3>
<pre><code class="Kotlin">fun maxOf(a:Int, b:Int): Int {
    if (a &gt; b) {
        return a
    } else {
        return b
    }
}
</code></pre>
<p>
使用 <code class="inline">if</code> 做为表达式：</p>
<pre><code class="kotlin">fun maxOf(a:Int, b:Int) = if (a &gt; b) a else b
</code></pre>
<h3>
可能为 null 的值，检查是否为 null</h3>
<p>
如果值可能为 <code class="inline">null</code> 时，必须显示的指出。
例如：</p>
<pre><code class="kotlin">fun parseInt(str: String): Int? {
    // ...
}
</code></pre>
<p>
使用上面定义的方法：</p>
<pre><code class="kotlin">fun printProduct(arg1: String, arg2: String) {
    val x = parseInt(arg1)
    val y = parseInt(arg2)

    if (x != null &amp;&amp; y != null) {
        println(x * y)
    } else {
        println(either &#39;$arg1&#39; or &#39;$arg2&#39; is not a number)
}
</code></pre>
<p>
或者：</p>
<pre><code class="kotlin">if (x == null) {
    println(&quot;Wrong number format in arg1: &#39;$arg1&#39;&quot;)
    return
}
if (y == null) {
    println(&quot;Wrong number format in arg2: &#39;$arg2&#39;&quot;)
    return
}

println(x * y)
</code></pre>
<h3>
类型检查和自动转换</h3>
<p>
<code class="inline">is</code> 操作符用于检查某个实例是否为某种类型。如果一个不可变本地变量或属性已经做过类型检查，那么可以不必显示的进行类型转换就可以使用对应类型的属性或方法。</p>
<pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    if (obj is String) {
        return obj.length    // 在这个类型检查分支中，`obj` 自动转换为 `String`
    }

    return null              // 在类型检查分支外，`obj` 仍然为 `Any`
}
</code></pre>
<p>
或者：</p>
<pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    if (obj !is String) return null
    
    return obj.length    // 在这个分支中，`obj` 自动转换为 `String`
}
</code></pre>
<p>
再或者：</p>
<pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    if (obj is String &amp;&amp; obj.length &gt; 0) {    //  在 `&amp;&amp;` 操作符的右侧，`obj` 自动转换为 `String`
        return obj.length
    }

    return null 
}
</code></pre>
<h3>
for 循环</h3>
<pre><code class="kotlin">val items = listOf(&quot;apple&quot;, &quot;banana&quot;, &quot;kiwi&quot;)
for (item in items) {
    println(item)
}
</code></pre>
<p>
或者：</p>
<pre><code class="kotlin">val items = listOf(&quot;apple&quot;, &quot;banana&quot;, &quot;kiwi&quot;)
for (index in items.indices) {
    println(&quot;item at $index is ${items[index]}&quot;)
}
</code></pre>
<h3>
while 循环</h3>
<pre><code class="kotlin">val items = listOf(&quot;apple&quot;, &quot;banana&quot;, &quot;kiwi&quot;)
var index = 0
while (index &lt; items.size) {
    println(&quot;item at $index is ${items[index]}&quot;)
    index ++
}
</code></pre>
<h3>
when 表达式</h3>
<pre><code class="kotlin">fun describe(obj: Any): String = 
when (obj) {
    1          -&gt; &quot;one&quot;
    &quot;hello&quot;    -&gt; &quot;Greeting&quot;
    is Long    -&gt; &quot;Long&quot;
    !is String -&gt; &quot;Not a String&quot;
    else       -&gt; &quot;Unknown&quot;
}
</code></pre>
<h3>
区间</h3>
<ul>
  <li>
使用 <code class="inline">in</code> 操作符检查数字是否在区间内：  </li>
</ul>
<pre><code class="kotlin">val x = 10
val y = 9
if (x in 1..y+1) {
    println(&quot;fits in range&quot;)
}
</code></pre>
<ul>
  <li>
检查数字是否在范围外：  </li>
</ul>
<pre><code class="kotlin">val list = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)

if (-1 !in 0..list.lastIndex) {
    println(&quot;-1 is out of range&quot;)
}
if (list.size !in list.indices) {
    println(&quot;list size is out of valid list indices range too&quot;)
}
</code></pre>
<ul>
  <li>
区间遍历  </li>
</ul>
<pre><code class="kotlin">for (x in 1..5) {
    print(x)
}
</code></pre>
<h3>
集合</h3>
<ul>
  <li>
遍历集合：  </li>
</ul>
<pre><code class="kotlin">for (item in items) {
    println(item)
}
</code></pre>
<ul>
  <li>
使用 <code class="inline">in</code> 操作符判断集合中是否包含某个对象：  </li>
</ul>
<pre><code class="kotlin">when {
    &quot;orange&quot; in items  -&gt; println(&quot;juicy&quot;)
    &quot;apple&quot; in items   -&gt; println(&quot;apple is fine too&quot;)
}
</code></pre>
<ul>
  <li>
使用 lambda 表达式过滤和 map 集合：  </li>
</ul>
<pre><code class="kotlin">val fruits = listOf(&quot;banana&quot;, &quot;avocado&quot;, &quot;apple&quot;, &quot;kiwi&quot;)
fruits
.filter {it.startWith(&quot;a&quot;)}
.sortedBy {it}
.map {it.upperCase()}
.forEach {println(it)}
</code></pre>
<h3>
创建基本类和实例</h3>
<pre><code class="kotlin">fun main(args: Array&lt;String&gt;) {
    val rectangle = Rectangle(5.0, 2.0) // 不需要使用 &#39;new&#39; 关键词
    val triangle = Triangle(3.0, 4.0, 5.0)
    println(&quot;Area of rectangle is ${rectangle.calculateArea()}, its perimeter is ${rectangle.perimeter}&quot;)
    println(&quot;Area of triangle is ${triangle.calculateArea()}, its perimeter is ${triangle.perimeter}&quot;)
}

abstract class Shape(val sides: List&lt;Double&gt;) {
    val perimeter: Double get() = sides.sum()
    abstract fun calculateArea(): Double
}

interface RectangleProperties {
    val isSquare: Boolean
}

class Rectangle(
    var height: Double,
    var length: Double
) : Shape(listOf(height, length, height, length)), RectangleProperties {
    override val isSquare: Boolean get() = height == length
    override fun calculateArea(): Double = height * length
}

class Triangle(
    var sideA: Double,
    var sideB: Double,
    var sideC: Double
) : Shape(listOf(sideA, sideB, sideC)) {
    override fyb calculateArre(): Double {
        val s = perimeter / 2
        return Math.sqrt(s * (s - sideA) * (s - sideB) * (s - sideC))
    }
}
</code></pre>
<hr class="thin" />
<p>
以上引自：</p>
<blockquote>
  <p>
<a href="https://link.jianshu.com?t=http://kotlinlang.org/docs/reference/basic-syntax.html">http://kotlinlang.org/docs/reference/basic-syntax.html</a>  </p>
</blockquote>

            </article>
        </div>
    </body>
</html>

    